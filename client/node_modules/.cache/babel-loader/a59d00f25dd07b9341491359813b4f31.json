{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dusrb\\\\Desktop\\\\Project\\\\travel_log_app\\\\client\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl';\nimport { listLogEntries } from './API';\nimport LogEntryForm from './LogEntryForm';\n\nconst App = () => {\n  const [logEntries, setLogEntries] = useState([]);\n  const [showPopup, setShowPopup] = useState({});\n  const [addEntryLocation, setAddEntryLocation] = useState(null);\n  const [viewport, setViewport] = useState({\n    width: '100vw',\n    height: '100vh',\n    latitude: 37.6,\n    longitude: -95.665,\n    zoom: 3\n  });\n  useEffect(() => {\n    (async () => {\n      const logEntries = await listLogEntries();\n      setLogEntries(logEntries);\n    })();\n  }, []);\n\n  const showAddMarkerPopup = event => {\n    const [longitude, latitude] = event.lngLat;\n    setAddEntryLocation({\n      latitude,\n      longitude\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(ReactMapGL, Object.assign({}, viewport, {\n    mapStyle: \"mapbox://styles/dusrbpoiiij/ckescdqwx4uq419qjr8zapg19\",\n    mapboxApiAccessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n    onViewportChange: nextViewport => setViewport(nextViewport),\n    onDblClick: showAddMarkerPopup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }), logEntries.map(entry => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Marker, {\n    key: entry._id,\n    latitude: entry.latitude,\n    longitude: entry.longitude,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => setShowPopup({\n      [entry._id]: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"marker yeollow\",\n    style: {\n      height: `${6 * viewport.zoom}px`,\n      width: `${6 * viewport.zoom}px`\n    },\n    version: \"1.1\",\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035 c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719 c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 23\n    }\n  })))))), showPopup[entry._id] ? /*#__PURE__*/React.createElement(Popup, {\n    latitude: entry.latitude,\n    longitude: entry.longitude,\n    closeButton: true,\n    closeOnClick: false,\n    dynamicPosition: true,\n    onClose: () => setShowPopup({}),\n    anchor: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, entry.title), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, entry.comments), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"Visited on: \", new Date(entry.visitDate).toLocaleDateString()))) : null)), addEntryLocation ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Marker, {\n    latitude: addEntryLocation.latitude,\n    longitude: addEntryLocation.longitude,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"marker red\",\n    style: {\n      height: `${6 * viewport.zoom}px`,\n      width: `${6 * viewport.zoom}px`\n    },\n    version: \"1.1\",\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035 c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719 c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  })))))), /*#__PURE__*/React.createElement(Popup, {\n    latitude: addEntryLocation.latitude,\n    longitude: addEntryLocation.longitude,\n    closeButton: true,\n    closeOnClick: false,\n    dynamicPosition: true,\n    onClose: () => setAddEntryLocation(null),\n    anchor: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(LogEntryForm, {\n    location: addEntryLocation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  })))) : null);\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/dusrb/Desktop/Project/travel_log_app/client/src/App.js"],"names":["React","useState","useEffect","ReactMapGL","Marker","Popup","listLogEntries","LogEntryForm","App","logEntries","setLogEntries","showPopup","setShowPopup","addEntryLocation","setAddEntryLocation","viewport","setViewport","width","height","latitude","longitude","zoom","showAddMarkerPopup","event","lngLat","process","env","REACT_APP_MAPBOX_TOKEN","nextViewport","map","entry","_id","title","comments","Date","visitDate","toLocaleDateString"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl';\n\nimport { listLogEntries } from './API';\nimport LogEntryForm from './LogEntryForm';\n\nconst App = () => {\n  const [logEntries, setLogEntries] = useState([]);\n  const [showPopup, setShowPopup] = useState({});\n  const [addEntryLocation, setAddEntryLocation] = useState(null);\n  const [viewport, setViewport] = useState({\n    width: '100vw',\n    height: '100vh',\n    latitude: 37.6,\n    longitude: -95.665,\n    zoom: 3\n  });\n\n  useEffect(() => {\n    (async () => {\n      const logEntries = await listLogEntries();\n      setLogEntries(logEntries);\n    })();\n  }, [])\n\n  const showAddMarkerPopup = (event) => {\n    const [ longitude, latitude ] = event.lngLat;\n    setAddEntryLocation({\n      latitude,\n      longitude,\n    })\n  }\n\n  return (\n    <ReactMapGL\n      {...viewport}\n      mapStyle=\"mapbox://styles/dusrbpoiiij/ckescdqwx4uq419qjr8zapg19\"\n      mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n      onViewportChange={nextViewport => setViewport(nextViewport)}\n      onDblClick={showAddMarkerPopup}\n    >\n      {\n        logEntries.map(entry => (\n          <>\n            <Marker\n              key={entry._id}\n              latitude={entry.latitude}\n              longitude={entry.longitude}\n            >\n\n              <div\n                onClick={() => setShowPopup({\n                  [entry._id]: true\n                })}\n              >\n                <svg\n                  className=\"marker yeollow\"\n                  style={{\n                    height: `${6 * viewport.zoom}px`,\n                    width: `${6 * viewport.zoom}px`,\n                  }}\n                  version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\">\n                  <g>\n                    <g>\n                      <path d=\"M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035\n                        c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719\n                        c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z\"/>\n                    </g>\n                  </g>\n                </svg>\n              </div>\n            </Marker>\n            {\n              showPopup[entry._id] ? (\n                <Popup\n                  latitude={entry.latitude}\n                  longitude={entry.longitude}\n                  closeButton={true}\n                  closeOnClick={false}\n                  dynamicPosition={true}\n                  onClose={() => setShowPopup({})}\n                  anchor=\"top\" >\n                  <div className=\"popup\">\n                    <h3>{entry.title}</h3>\n                    <p>{entry.comments}</p>\n                    <small>Visited on: {new Date(entry.visitDate).toLocaleDateString()}</small>\n                  </div>\n                </Popup>\n              ) : null\n            }\n          </>\n        ))\n      }\n      {\n        addEntryLocation ? (\n          <>\n          <Marker\n            latitude={addEntryLocation.latitude}\n            longitude={addEntryLocation.longitude}\n          >\n            <div>\n              <svg\n                className=\"marker red\"\n                style={{\n                  height: `${6 * viewport.zoom}px`,\n                  width: `${6 * viewport.zoom}px`,\n                }}\n                version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\">\n                <g>\n                  <g>\n                    <path d=\"M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035\n                      c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719\n                      c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z\"/>\n                  </g>\n                </g>\n              </svg>\n            </div>\n          </Marker>\n          <Popup\n            latitude={addEntryLocation.latitude}\n            longitude={addEntryLocation.longitude}\n            closeButton={true}\n            closeOnClick={false}\n            dynamicPosition={true}\n            onClose={() => setAddEntryLocation(null)}\n            anchor=\"top\" >\n            <div className=\"popup\">\n              <LogEntryForm location={addEntryLocation} />\n            </div>\n          </Popup>\n          </>\n        ) : null\n      }\n    </ReactMapGL>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}